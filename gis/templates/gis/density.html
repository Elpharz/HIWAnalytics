<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>{% block title_block %}Predictive Analytics{% endblock %}</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.3.6/proj4.js"></script>
  <script src="http://code.highcharts.com/maps/highmaps.js"></script>
  <script src="https://code.highcharts.com/maps/modules/data.js"></script>
  <script src="https://code.highcharts.com/mapdata/custom/europe.js"></script>
</head>
<body>
	<div id="container" style="max-width:480px; min-width:310px; height:500px; margin: 0 auto"></div>
	<script>
		$('#container').highcharts('Map', {
			chart: {
					spacingBottom: 20
			},
			title: {
					text: 'Patient Density across Uganda'
			},
			mapNavigation: {
					enabled: true,
					enableTouchZoom: true,
			},
			legend: {
            	enabled: true
       		},
       		plotOptions: {
	            map: {
	                allAreas: false,
	                joinBy: ['iso-a2', 'code'],
	                dataLabels: {
	                    enabled: true,
	                    color: '#FFFFFF',
	                    formatter: function () {
	                        if (this.point.properties && this.point.properties.labelrank.toString() < 5) {
	                            return this.point.properties['iso-a2'];
	                        }
	                    },
	                    format: null,
	                    style: {
	                        fontWeight: 'bold'
	                    }
	                },
	                mapData: Highcharts.maps['custom/europe'],
	                tooltip: {
	                    headerFormat: '',
	                    pointFormat: '{point.name}: <b>{series.name}</b>'
	                }
	            }
	        },
			series: [{
				type: 'mappoint',
				name: 'Patient Density',
				//mapData: Highcharts.maps['custom/africa'],
				data: [{
				    name: 'London',
				    lat: 51.507222,
				    lon: -0.1275
				}, {
				    name: 'Birmingham',
				    lat: 52.483056,
				    lon: -1.893611
				}, {
				    name: 'Leeds',
				    lat: 53.799722,
				    lon: -1.549167
				}]
			}]
		});
	</script>
</body>
</html>